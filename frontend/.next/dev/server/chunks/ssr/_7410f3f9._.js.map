{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/components/layout/sidebar.tsx"],"sourcesContent":["'use client'\n\nimport { BarChart3, Users, Video, Zap } from 'lucide-react'\nimport Link from 'next/link'\n\ninterface SidebarProps {\n  currentPage: string\n  onPageChange: (page: any) => void\n}\n\nexport function Sidebar({ currentPage, onPageChange }: SidebarProps) {\n  const menuItems = [\n    { id: 'dashboard', label: 'Dashboard', icon: BarChart3 },\n    { id: 'video-zone', label: 'Zone Configuration', icon: Video },\n    { id: 'employees', label: 'Employee Management', icon: Users },\n  ]\n\n  return (\n    <>\n      {/* Mobile Sidebar Backdrop */}\n      <div className=\"hidden lg:block fixed inset-0 z-40 pointer-events-none\"></div>\n\n      {/* Sidebar */}\n      <aside className=\"hidden lg:fixed lg:left-0 lg:top-0 lg:h-screen lg:w-64 lg:flex lg:flex-col bg-sidebar text-sidebar-foreground border-r border-sidebar-border z-50\">\n        <div className=\"p-6 border-b border-sidebar-border\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-10 h-10 rounded-lg bg-sidebar-primary flex items-center justify-center\">\n              <Zap className=\"w-6 h-6 text-sidebar-primary-foreground\" />\n            </div>\n            <div>\n              <h1 className=\"font-bold text-lg text-balance\">Queue AI</h1>\n              <p className=\"text-xs text-sidebar-foreground/60\">Analytics Pro</p>\n            </div>\n          </div>\n        </div>\n\n        <nav className=\"flex-1 p-4 space-y-2\">\n          {menuItems.map((item) => {\n            const Icon = item.icon\n            const isActive = currentPage === item.id\n            return (\n              <button\n                key={item.id}\n                onClick={() => onPageChange(item.id)}\n                className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors ${\n                  isActive\n                    ? 'bg-sidebar-primary text-sidebar-primary-foreground'\n                    : 'text-sidebar-foreground hover:bg-sidebar-accent/50'\n                }`}\n              >\n                <Icon className=\"w-5 h-5\" />\n                <span>{item.label}</span>\n              </button>\n            )\n          })}\n        </nav>\n\n        <div className=\"p-4 border-t border-sidebar-border\">\n          <div className=\"bg-sidebar-accent/20 rounded-lg p-4 text-center\">\n            <p className=\"text-sm text-sidebar-foreground/80\">\n              Real-time queue insights powered by AI\n            </p>\n          </div>\n        </div>\n      </aside>\n\n      {/* Mobile Navigation */}\n      <div className=\"lg:hidden fixed bottom-0 left-0 right-0 bg-sidebar border-t border-sidebar-border z-50\">\n        <div className=\"flex justify-around\">\n          {menuItems.map((item) => {\n            const Icon = item.icon\n            const isActive = currentPage === item.id\n            return (\n              <button\n                key={item.id}\n                onClick={() => onPageChange(item.id)}\n                className={`flex-1 flex flex-col items-center gap-1 py-3 px-2 transition-colors ${\n                  isActive\n                    ? 'text-sidebar-primary'\n                    : 'text-sidebar-foreground/60'\n                }`}\n              >\n                <Icon className=\"w-6 h-6\" />\n                <span className=\"text-xs\">{item.label}</span>\n              </button>\n            )\n          })}\n        </div>\n      </div>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAFA;;;AAUO,SAAS,QAAQ,EAAE,WAAW,EAAE,YAAY,EAAgB;IACjE,MAAM,YAAY;QAChB;YAAE,IAAI;YAAa,OAAO;YAAa,MAAM,mTAAS;QAAC;QACvD;YAAE,IAAI;YAAc,OAAO;YAAsB,MAAM,iSAAK;QAAC;QAC7D;YAAE,IAAI;YAAa,OAAO;YAAuB,MAAM,iSAAK;QAAC;KAC9D;IAED,qBACE;;0BAEE,6WAAC;gBAAI,WAAU;;;;;;0BAGf,6WAAC;gBAAM,WAAU;;kCACf,6WAAC;wBAAI,WAAU;kCACb,cAAA,6WAAC;4BAAI,WAAU;;8CACb,6WAAC;oCAAI,WAAU;8CACb,cAAA,6WAAC,2RAAG;wCAAC,WAAU;;;;;;;;;;;8CAEjB,6WAAC;;sDACC,6WAAC;4CAAG,WAAU;sDAAiC;;;;;;sDAC/C,6WAAC;4CAAE,WAAU;sDAAqC;;;;;;;;;;;;;;;;;;;;;;;kCAKxD,6WAAC;wBAAI,WAAU;kCACZ,UAAU,GAAG,CAAC,CAAC;4BACd,MAAM,OAAO,KAAK,IAAI;4BACtB,MAAM,WAAW,gBAAgB,KAAK,EAAE;4BACxC,qBACE,6WAAC;gCAEC,SAAS,IAAM,aAAa,KAAK,EAAE;gCACnC,WAAW,CAAC,kFAAkF,EAC5F,WACI,uDACA,sDACJ;;kDAEF,6WAAC;wCAAK,WAAU;;;;;;kDAChB,6WAAC;kDAAM,KAAK,KAAK;;;;;;;+BATZ,KAAK,EAAE;;;;;wBAYlB;;;;;;kCAGF,6WAAC;wBAAI,WAAU;kCACb,cAAA,6WAAC;4BAAI,WAAU;sCACb,cAAA,6WAAC;gCAAE,WAAU;0CAAqC;;;;;;;;;;;;;;;;;;;;;;0BAQxD,6WAAC;gBAAI,WAAU;0BACb,cAAA,6WAAC;oBAAI,WAAU;8BACZ,UAAU,GAAG,CAAC,CAAC;wBACd,MAAM,OAAO,KAAK,IAAI;wBACtB,MAAM,WAAW,gBAAgB,KAAK,EAAE;wBACxC,qBACE,6WAAC;4BAEC,SAAS,IAAM,aAAa,KAAK,EAAE;4BACnC,WAAW,CAAC,oEAAoE,EAC9E,WACI,yBACA,8BACJ;;8CAEF,6WAAC;oCAAK,WAAU;;;;;;8CAChB,6WAAC;oCAAK,WAAU;8CAAW,KAAK,KAAK;;;;;;;2BAThC,KAAK,EAAE;;;;;oBAYlB;;;;;;;;;;;;;AAKV"}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/components/layout/notification-center.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { Bell, X, AlertCircle, CheckCircle, Info, AlertTriangle } from 'lucide-react'\n\nexport interface Notification {\n  id: string\n  title: string\n  message: string\n  type: 'info' | 'success' | 'warning' | 'error'\n  timestamp: Date\n  read: boolean\n  actionUrl?: string\n  actionLabel?: string\n}\n\ninterface NotificationCenterProps {\n  notifications?: Notification[]\n}\n\nexport function NotificationCenter({ notifications: initialNotifications = [] }: NotificationCenterProps) {\n  const [isOpen, setIsOpen] = useState(false)\n  const [notifications, setNotifications] = useState<Notification[]>(initialNotifications)\n  const [unreadCount, setUnreadCount] = useState(0)\n\n  // Simulate real-time notifications for demo\n  useEffect(() => {\n    const interval = setInterval(() => {\n      // Add random notifications\n      const types: Array<'info' | 'success' | 'warning' | 'error'> = ['info', 'warning']\n      const sampleNotifications = [\n        {\n          title: 'High Queue Alert',\n          message: 'Zone 3 queue length exceeded threshold',\n          type: 'warning' as const,\n        },\n        {\n          title: 'Staff Request',\n          message: 'Additional staff needed for peak hours',\n          type: 'error' as const,\n        },\n        {\n          title: 'Efficiency Update',\n          message: 'Zone 1 efficiency improved by 5%',\n          type: 'success' as const,\n        },\n      ]\n\n      // Randomly add notification\n      if (Math.random() > 0.7 && notifications.length < 10) {\n        const sample = sampleNotifications[Math.floor(Math.random() * sampleNotifications.length)]\n        const newNotif: Notification = {\n          id: `notif-${Date.now()}`,\n          title: sample.title,\n          message: sample.message,\n          type: sample.type,\n          timestamp: new Date(),\n          read: false,\n        }\n        setNotifications(prev => [newNotif, ...prev])\n      }\n    }, 15000)\n\n    return () => clearInterval(interval)\n  }, [notifications.length])\n\n  useEffect(() => {\n    const count = notifications.filter(n => !n.read).length\n    setUnreadCount(count)\n  }, [notifications])\n\n  const handleMarkAsRead = (id: string) => {\n    setNotifications(prev =>\n      prev.map(n => (n.id === id ? { ...n, read: true } : n))\n    )\n  }\n\n  const handleDelete = (id: string) => {\n    setNotifications(prev => prev.filter(n => n.id !== id))\n  }\n\n  const handleMarkAllAsRead = () => {\n    setNotifications(prev => prev.map(n => ({ ...n, read: true })))\n  }\n\n  const getIcon = (type: string) => {\n    switch (type) {\n      case 'success':\n        return <CheckCircle className=\"w-5 h-5 text-green-500\" />\n      case 'error':\n        return <AlertCircle className=\"w-5 h-5 text-red-500\" />\n      case 'warning':\n        return <AlertTriangle className=\"w-5 h-5 text-yellow-500\" />\n      default:\n        return <Info className=\"w-5 h-5 text-blue-500\" />\n    }\n  }\n\n  return (\n    <div className=\"relative\">\n      {/* Bell Icon */}\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"relative p-2 rounded-lg hover:bg-muted transition-colors\"\n      >\n        <Bell className=\"w-5 h-5\" />\n        {unreadCount > 0 && (\n          <span className=\"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full animate-pulse\" />\n        )}\n      </button>\n\n      {/* Dropdown */}\n      {isOpen && (\n        <div className=\"fixed md:absolute right-0 top-full md:right-0 md:top-12 w-full md:w-96 max-h-[500px] bg-card border border-border rounded-lg shadow-lg z-50 md:mt-2\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between p-4 border-b border-border\">\n            <h3 className=\"font-semibold\">Notifications</h3>\n            <button\n              onClick={() => setIsOpen(false)}\n              className=\"p-1 hover:bg-muted rounded transition-colors\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          </div>\n\n          {/* Notifications List */}\n          <div className=\"overflow-y-auto max-h-[400px]\">\n            {notifications.length === 0 ? (\n              <div className=\"text-center py-8 text-muted-foreground\">\n                <Bell className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n                <p>No notifications yet</p>\n              </div>\n            ) : (\n              <div className=\"space-y-1\">\n                {notifications.map((notif) => (\n                  <div\n                    key={notif.id}\n                    className={`p-4 border-b border-border hover:bg-muted/50 transition-colors cursor-pointer ${\n                      !notif.read ? 'bg-primary/5' : ''\n                    }`}\n                    onClick={() => handleMarkAsRead(notif.id)}\n                  >\n                    <div className=\"flex gap-3\">\n                      <div className=\"flex-shrink-0 mt-0.5\">\n                        {getIcon(notif.type)}\n                      </div>\n                      <div className=\"flex-1\">\n                        <p className=\"font-semibold text-sm\">{notif.title}</p>\n                        <p className=\"text-sm text-muted-foreground\">{notif.message}</p>\n                        <p className=\"text-xs text-muted-foreground mt-1\">\n                          {notif.timestamp.toLocaleTimeString()}\n                        </p>\n                        {notif.actionLabel && (\n                          <button className=\"mt-2 text-xs px-2 py-1 bg-primary/10 hover:bg-primary/20 rounded text-primary font-semibold transition-colors\">\n                            {notif.actionLabel}\n                          </button>\n                        )}\n                      </div>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation()\n                          handleDelete(notif.id)\n                        }}\n                        className=\"p-1 hover:bg-muted rounded transition-colors flex-shrink-0\"\n                      >\n                        <X className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Footer */}\n          {notifications.length > 0 && unreadCount > 0 && (\n            <div className=\"p-3 border-t border-border text-center\">\n              <button\n                onClick={handleMarkAllAsRead}\n                className=\"text-sm text-primary hover:underline font-semibold\"\n              >\n                Mark all as read\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Backdrop */}\n      {isOpen && (\n        <div\n          className=\"fixed inset-0 z-40 md:hidden\"\n          onClick={() => setIsOpen(false)}\n        />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 559, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/components/layout/header.tsx"],"sourcesContent":["'use client'\n\nimport { Moon, Sun } from 'lucide-react'\nimport { NotificationCenter } from './notification-center'\n\ninterface HeaderProps {\n  darkMode: boolean\n  onDarkModeToggle: (darkMode: boolean) => void\n}\n\nexport function Header({ darkMode, onDarkModeToggle }: HeaderProps) {\n  return (\n    <header className=\"sticky top-0 bg-card border-b border-border z-40\">\n      <div className=\"flex items-center justify-between p-4 md:p-6\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-balance\">Queue Analytics</h2>\n          <p className=\"text-sm text-muted-foreground\">Real-time intelligent queue management</p>\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          <NotificationCenter />\n\n          <button\n            onClick={() => onDarkModeToggle(!darkMode)}\n            className=\"p-2 rounded-lg hover:bg-muted transition-colors\"\n          >\n            {darkMode ? <Sun className=\"w-5 h-5\" /> : <Moon className=\"w-5 h-5\" />}\n          </button>\n        </div>\n      </div>\n    </header>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAHA;;;;AAUO,SAAS,OAAO,EAAE,QAAQ,EAAE,gBAAgB,EAAe;IAChE,qBACE,6WAAC;QAAO,WAAU;kBAChB,cAAA,6WAAC;YAAI,WAAU;;8BACb,6WAAC;;sCACC,6WAAC;4BAAG,WAAU;sCAAkC;;;;;;sCAChD,6WAAC;4BAAE,WAAU;sCAAgC;;;;;;;;;;;;8BAG/C,6WAAC;oBAAI,WAAU;;sCACb,6WAAC,qKAAkB;;;;;sCAEnB,6WAAC;4BACC,SAAS,IAAM,iBAAiB,CAAC;4BACjC,WAAU;sCAET,yBAAW,6WAAC,2RAAG;gCAAC,WAAU;;;;;qDAAe,6WAAC,8RAAI;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMtE"}},
    {"offset": {"line": 652, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/components/video/polygon-canvas.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useRef, useState } from 'react'\nimport { AlertCircle } from 'lucide-react'\n\ninterface PolygonCanvasProps {\n  videoUrl: string\n  zoneNumber: number\n  onComplete: (points: Array<[number, number]>) => void\n  maxZones: number\n  existingZonesCount: number\n}\n\nexport function PolygonCanvas({\n  videoUrl,\n  zoneNumber,\n  onComplete,\n  maxZones,\n  existingZonesCount,\n}: PolygonCanvasProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const videoRef = useRef<HTMLVideoElement>(null)\n  const [points, setPoints] = useState<Array<[number, number]>>([])\n  const [isDrawing, setIsDrawing] = useState(true)\n  const [frameExtracted, setFrameExtracted] = useState(false)\n  const [context, setContext] = useState<CanvasRenderingContext2D | null>(null)\n\n  // Extract frame from video and draw it on canvas\n  useEffect(() => {\n    const video = videoRef.current\n    const canvas = canvasRef.current\n\n    if (!video || !canvas) return\n\n    const handleLoadedMetadata = () => {\n      console.log('[PolygonCanvas] Video metadata loaded', {\n        duration: video.duration,\n        videoWidth: video.videoWidth,\n        videoHeight: video.videoHeight\n      })\n\n      // Seek to a frame with content (avoid black frames at start/end)\n      const baseTime = 2 // Start at 2 seconds to avoid black intro frames\n      const offset = (zoneNumber - 1) * 0.5 // Small offset per zone\n      const targetTime = Math.min(baseTime + offset, video.duration * 0.3) // Max 30% into video\n      \n      console.log('[PolygonCanvas] Seeking to:', targetTime)\n      video.currentTime = targetTime\n    }\n\n    const handleSeeked = () => {\n      console.log('[PolygonCanvas] Video seeked to:', video.currentTime)\n      \n      const ctx = canvas.getContext('2d')\n      if (ctx) {\n        // Set canvas size to match video\n        canvas.width = video.videoWidth\n        canvas.height = video.videoHeight\n\n        console.log('[PolygonCanvas] Canvas size set to:', canvas.width, 'x', canvas.height)\n\n        // Draw video frame\n        ctx.drawImage(video, 0, 0)\n        \n        // Check if we actually drew something\n        const imageData = ctx.getImageData(0, 0, Math.min(100, canvas.width), Math.min(100, canvas.height))\n        const hasContent = imageData.data.some(pixel => pixel !== 0)\n        console.log('[PolygonCanvas] Frame has content:', hasContent)\n        \n        setContext(ctx)\n        setFrameExtracted(true)\n      }\n    }\n\n    const handleCanPlay = () => {\n      console.log('[PolygonCanvas] Video can play')\n    }\n\n    video.addEventListener('loadedmetadata', handleLoadedMetadata)\n    video.addEventListener('seeked', handleSeeked)\n    video.addEventListener('canplay', handleCanPlay)\n    \n    // Force load\n    video.load()\n\n    return () => {\n      video.removeEventListener('loadedmetadata', handleLoadedMetadata)\n      video.removeEventListener('seeked', handleSeeked)\n      video.removeEventListener('canplay', handleCanPlay)\n    }\n  }, [videoUrl, zoneNumber])\n\n  // Redraw canvas with points\n  useEffect(() => {\n    if (!frameExtracted || !context || !videoRef.current || !canvasRef.current) return\n\n    const ctx = context\n    const video = videoRef.current\n\n    // Redraw video frame\n    ctx.drawImage(video, 0, 0)\n\n    // Draw existing points\n    if (points.length > 0) {\n      ctx.fillStyle = 'rgba(0, 217, 255, 0.2)'\n      ctx.strokeStyle = 'rgb(0, 217, 255)'\n      ctx.lineWidth = 2\n\n      // Draw points\n      points.forEach(([x, y]) => {\n        ctx.beginPath()\n        ctx.arc(x, y, 5, 0, Math.PI * 2)\n        ctx.fill()\n        ctx.stroke()\n      })\n\n      // Draw lines between points\n      if (points.length > 1) {\n        ctx.beginPath()\n        ctx.moveTo(points[0][0], points[0][1])\n        for (let i = 1; i < points.length; i++) {\n          ctx.lineTo(points[i][0], points[i][1])\n        }\n        ctx.stroke()\n      }\n    }\n  }, [points, frameExtracted, context])\n\n  const handleCanvasClick = (e: React.MouseEvent<HTMLCanvasElement>) => {\n    if (!isDrawing || !canvasRef.current) return\n\n    const rect = canvasRef.current.getBoundingClientRect()\n    const x = ((e.clientX - rect.left) / rect.width) * canvasRef.current.width\n    const y = ((e.clientY - rect.top) / rect.height) * canvasRef.current.height\n\n    setPoints([...points, [x, y]])\n  }\n\n  const handleDoubleClick = (e: React.MouseEvent<HTMLCanvasElement>) => {\n    e.preventDefault()\n    if (points.length >= 3) {\n      onComplete(points)\n      setPoints([])\n      setIsDrawing(true)\n    }\n  }\n\n  const handleUndo = () => {\n    if (points.length > 0) {\n      setPoints(points.slice(0, -1))\n    }\n  }\n\n  const handleClear = () => {\n    setPoints([])\n    if (context && videoRef.current) {\n      context.drawImage(videoRef.current, 0, 0)\n    }\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Status Alert */}\n      <div className=\"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4 flex gap-3\">\n        <AlertCircle className=\"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5\" />\n        <div>\n          <p className=\"font-semibold text-sm\">\n            Zone {zoneNumber} of {maxZones}\n          </p>\n          <p className=\"text-sm text-muted-foreground\">\n            {points.length === 0 && 'Click on the video to add points'}\n            {points.length > 0 && points.length < 3 && `${3 - points.length} more points needed`}\n            {points.length >= 3 && 'Double-click to complete zone or continue adding points'}\n          </p>\n        </div>\n      </div>\n\n      {/* Canvas Container */}\n      <div className=\"bg-black rounded-lg overflow-hidden border border-border\">\n        <video\n          ref={videoRef}\n          src={videoUrl}\n          className=\"hidden\"\n          crossOrigin=\"anonymous\"\n        />\n        <canvas\n          ref={canvasRef}\n          onClick={handleCanvasClick}\n          onDoubleClick={handleDoubleClick}\n          className=\"w-full cursor-crosshair bg-black\"\n        />\n      </div>\n\n      {/* Controls */}\n      <div className=\"flex gap-3\">\n        <button\n          onClick={handleUndo}\n          disabled={points.length === 0}\n          className=\"flex-1 px-4 py-2 bg-muted text-foreground rounded-lg hover:bg-muted/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n        >\n          Undo\n        </button>\n        <button\n          onClick={handleClear}\n          disabled={points.length === 0}\n          className=\"flex-1 px-4 py-2 bg-muted text-foreground rounded-lg hover:bg-muted/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n        >\n          Clear\n        </button>\n        <button\n          onClick={() => {\n            if (points.length >= 3) {\n              onComplete(points)\n              setPoints([])\n            }\n          }}\n          disabled={points.length < 3}\n          className=\"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold\"\n        >\n          Complete Zone\n        </button>\n      </div>\n\n      {/* Point Details */}\n      {points.length > 0 && (\n        <div className=\"bg-card border border-border rounded-lg p-4\">\n          <p className=\"text-sm font-semibold mb-3\">Points ({points.length}):</p>\n          <div className=\"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto\">\n            {points.map((point, i) => (\n              <div key={i} className=\"text-xs bg-muted p-2 rounded\">\n                P{i + 1}: ({Math.round(point[0])}, {Math.round(point[1])})\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 972, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,oOAAO,EAAC,IAAA,8LAAI,EAAC;AACtB"}},
    {"offset": {"line": 987, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1089, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/components/analytics/zone-analytics-dashboard.tsx"],"sourcesContent":["'use client'\n\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { TrendingUp, Users, Clock, BarChart3 } from 'lucide-react'\n\ninterface ZoneMetrics {\n  avg_wait: number | null\n  min_wait: number | null\n  max_wait: number | null\n  avg_queue_len: number | null\n  max_queue_len: number\n  num_people_measured: number\n  total_people_tracked: number\n}\n\ninterface ZoneResult {\n  zone_name: string\n  polygon_id: number\n  metrics: ZoneMetrics\n  queue_timestamps: number[]\n  queue_lengths: number[]\n  wait_times: number[]\n}\n\ninterface AnalysisData {\n  zones: ZoneResult[]\n  output_video_url?: string\n  fps: number\n  frame_count: number\n  duration_sec: number\n}\n\ninterface Props {\n  data: AnalysisData\n}\n\nexport function ZoneAnalyticsDashboard({ data }: Props) {\n  const { zones, output_video_url, fps, frame_count, duration_sec } = data\n\n  // Calculate global metrics\n  const globalMetrics = {\n    totalPeople: zones.reduce((sum, z) => sum + z.metrics.total_people_tracked, 0),\n    avgWait: zones.reduce((sum, z) => sum + (z.metrics.avg_wait || 0), 0) / zones.length,\n    maxQueueLen: Math.max(...zones.map(z => z.metrics.max_queue_len)),\n  }\n\n  const formatTime = (seconds: number | null) => {\n    if (seconds === null) return 'N/A'\n    const mins = Math.floor(seconds / 60)\n    const secs = Math.floor(seconds % 60)\n    return mins > 0 ? `${mins}m ${secs}s` : `${secs}s`\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Video Info */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <BarChart3 className=\"w-5 h-5\" />\n            Video Analysis Summary\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Duration</p>\n              <p className=\"text-2xl font-bold\">{duration_sec.toFixed(1)}s</p>\n            </div>\n            <div>\n              <p className=\"text-sm text-muted-foreground\">FPS</p>\n              <p className=\"text-2xl font-bold\">{fps.toFixed(1)}</p>\n            </div>\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Frames</p>\n              <p className=\"text-2xl font-bold\">{frame_count}</p>\n            </div>\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Zones</p>\n              <p className=\"text-2xl font-bold\">{zones.length}</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Global Metrics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total People Tracked</CardTitle>\n            <Users className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{globalMetrics.totalPeople}</div>\n            <p className=\"text-xs text-muted-foreground\">Across all zones</p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Avg Wait Time</CardTitle>\n            <Clock className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{formatTime(globalMetrics.avgWait)}</div>\n            <p className=\"text-xs text-muted-foreground\">Average across zones</p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Peak Queue Length</CardTitle>\n            <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{globalMetrics.maxQueueLen}</div>\n            <p className=\"text-xs text-muted-foreground\">Maximum observed</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Per-Zone Analytics */}\n      <div className=\"space-y-4\">\n        <h3 className=\"text-xl font-semibold\">Per-Zone Analytics</h3>\n        \n        {zones.map((zone, idx) => (\n          <Card key={zone.polygon_id} className=\"border-l-4\" style={{ borderLeftColor: getZoneColor(idx) }}>\n            <CardHeader>\n              <CardTitle className=\"flex items-center justify-between\">\n                <span>{zone.zone_name}</span>\n                <span className=\"text-sm font-normal text-muted-foreground\">\n                  Zone {zone.polygon_id + 1}\n                </span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Avg Wait Time</p>\n                  <p className=\"text-xl font-bold\">{formatTime(zone.metrics.avg_wait)}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Min / Max Wait</p>\n                  <p className=\"text-xl font-bold\">\n                    {formatTime(zone.metrics.min_wait)} / {formatTime(zone.metrics.max_wait)}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Avg Queue Length</p>\n                  <p className=\"text-xl font-bold\">\n                    {zone.metrics.avg_queue_len?.toFixed(1) || 'N/A'}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">People Measured</p>\n                  <p className=\"text-xl font-bold\">\n                    {zone.metrics.num_people_measured} / {zone.metrics.total_people_tracked}\n                  </p>\n                </div>\n              </div>\n\n              {/* Queue Length Chart */}\n              {zone.queue_lengths.length > 0 && (\n                <div className=\"mt-4\">\n                  <p className=\"text-sm font-medium mb-2\">Queue Length Over Time</p>\n                  <div className=\"h-32 flex items-end gap-0.5\">\n                    {zone.queue_lengths\n                      .filter((_, i) => i % Math.ceil(zone.queue_lengths.length / 100) === 0) // Sample for performance\n                      .map((length, i) => (\n                        <div\n                          key={i}\n                          className=\"flex-1 bg-primary/60 hover:bg-primary transition-colors\"\n                          style={{\n                            height: `${(length / Math.max(...zone.queue_lengths)) * 100}%`,\n                            minHeight: length > 0 ? '2px' : '0',\n                          }}\n                          title={`Queue length: ${length}`}\n                        />\n                      ))}\n                  </div>\n                  <div className=\"flex justify-between text-xs text-muted-foreground mt-1\">\n                    <span>0s</span>\n                    <span>{(duration_sec / 2).toFixed(0)}s</span>\n                    <span>{duration_sec.toFixed(0)}s</span>\n                  </div>\n                </div>\n              )}\n\n              {/* Wait Times Distribution */}\n              {zone.wait_times.length > 0 && (\n                <div className=\"mt-4\">\n                  <p className=\"text-sm font-medium mb-2\">Wait Time Distribution</p>\n                  <div className=\"flex gap-2 items-end h-20\">\n                    {createHistogram(zone.wait_times, 10).map((bucket, i) => (\n                      <div\n                        key={i}\n                        className=\"flex-1 bg-secondary/60 hover:bg-secondary transition-colors rounded-t\"\n                        style={{\n                          height: `${bucket.percentage}%`,\n                          minHeight: bucket.count > 0 ? '2px' : '0',\n                        }}\n                        title={`${bucket.range}: ${bucket.count} people`}\n                      />\n                    ))}\n                  </div>\n                  <p className=\"text-xs text-muted-foreground mt-1\">\n                    Distribution of {zone.wait_times.length} wait times\n                  </p>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      {/* Annotated Output Video */}\n      {output_video_url && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Annotated Video Output</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <video\n                controls\n                className=\"w-full rounded-lg border border-border\"\n                src={`${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000'}${output_video_url}`}\n              >\n                Your browser does not support the video tag.\n              </video>\n              <div className=\"flex gap-3\">\n                <a\n                  href={`${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000'}${output_video_url}`}\n                  download\n                  className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors inline-flex items-center gap-2\"\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\n                  </svg>\n                  Download Annotated Video\n                </a>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n\n// Helper function to get consistent zone colors\nfunction getZoneColor(index: number): string {\n  const colors = [\n    '#ef4444', // red\n    '#10b981', // green\n    '#3b82f6', // blue\n    '#f59e0b', // yellow\n    '#8b5cf6', // purple\n  ]\n  return colors[index % colors.length]\n}\n\n// Helper function to create histogram buckets\nfunction createHistogram(data: number[], buckets: number) {\n  if (data.length === 0) return []\n\n  const min = Math.min(...data)\n  const max = Math.max(...data)\n  const bucketSize = (max - min) / buckets\n\n  const histogram = Array(buckets).fill(0).map((_, i) => ({\n    range: `${(min + i * bucketSize).toFixed(0)}-${(min + (i + 1) * bucketSize).toFixed(0)}s`,\n    count: 0,\n    percentage: 0,\n  }))\n\n  data.forEach(value => {\n    const bucketIndex = Math.min(Math.floor((value - min) / bucketSize), buckets - 1)\n    histogram[bucketIndex].count++\n  })\n\n  const maxCount = Math.max(...histogram.map(b => b.count))\n  histogram.forEach(bucket => {\n    bucket.percentage = maxCount > 0 ? (bucket.count / maxCount) * 100 : 0\n  })\n\n  return histogram\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1874, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/lib/api-client.ts"],"sourcesContent":["'use client'\n\n// API client for communicating with FastAPI backend\n// Configure NEXT_PUBLIC_API_URL in your environment variables\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000'\n\nexport interface ApiResponse<T = any> {\n  success: boolean\n  data?: T\n  error?: string\n  message?: string\n}\n\nclass ApiClient {\n  private baseUrl: string\n\n  constructor(baseUrl: string = API_URL) {\n    this.baseUrl = baseUrl\n  }\n\n  async fetch<T = any>(\n    endpoint: string,\n    options: RequestInit = {}\n  ): Promise<ApiResponse<T>> {\n    try {\n      const url = `${this.baseUrl}${endpoint}`\n      console.log('[API] Calling', url)\n\n      const response = await fetch(url, {\n        ...options,\n        headers: {\n          'Content-Type': 'application/json',\n          ...options.headers,\n        },\n      })\n\n      if (!response.ok) {\n        console.error('[API] Error:', response.status, response.statusText)\n        return {\n          success: false,\n          error: `${response.status}: ${response.statusText}`,\n        }\n      }\n\n      const data = await response.json()\n      console.log('[API] Response:', data)\n      return {\n        success: true,\n        data,\n      }\n    } catch (error) {\n      console.error('[API] Exception:', error)\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n      }\n    }\n  }\n\n  get<T = any>(endpoint: string, options?: RequestInit) {\n    return this.fetch<T>(endpoint, { method: 'GET', ...options })\n  }\n\n  post<T = any>(endpoint: string, body?: any, options?: RequestInit) {\n    return this.fetch<T>(endpoint, {\n      method: 'POST',\n      body: body ? JSON.stringify(body) : undefined,\n      ...options,\n    })\n  }\n\n  put<T = any>(endpoint: string, body?: any, options?: RequestInit) {\n    return this.fetch<T>(endpoint, {\n      method: 'PUT',\n      body: body ? JSON.stringify(body) : undefined,\n      ...options,\n    })\n  }\n\n  delete<T = any>(endpoint: string, options?: RequestInit) {\n    return this.fetch<T>(endpoint, { method: 'DELETE', ...options })\n  }\n}\n\nexport const apiClient = new ApiClient()\n\n// Video Upload API (matches FastAPI backend)\nexport const videoApi = {\n  // Upload video - POST /upload-video\n  uploadVideo: async (file: File) => {\n    const formData = new FormData()\n    formData.append('file', file)\n    \n    try {\n      const url = `${API_URL}/upload-video`\n      console.log('[API] Uploading video to', url)\n      \n      const response = await fetch(url, {\n        method: 'POST',\n        body: formData,\n        // Don't set Content-Type header, let browser set it with boundary\n      })\n      \n      if (!response.ok) {\n        const error = await response.json()\n        return {\n          success: false,\n          error: error.detail || 'Upload failed',\n        }\n      }\n      \n      const data = await response.json()\n      console.log('[API] Upload response:', data)\n      return {\n        success: true,\n        data,\n      }\n    } catch (error) {\n      console.error('[API] Upload exception:', error)\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n      }\n    }\n  },\n\n  // Single zone analysis - POST /analyze\n  analyzeSingleZone: (videoId: string, roi: number[], options?: {\n    conf?: number\n    min_wait_sec_filter?: number\n    sample_stride?: number\n  }) =>\n    apiClient.post('/analyze', {\n      video_id: videoId,\n      roi,\n      conf: options?.conf || 0.4,\n      min_wait_sec_filter: options?.min_wait_sec_filter || 1.0,\n      sample_stride: options?.sample_stride || 40,\n    }),\n\n  // Multi-zone analysis - POST /analyze-multi-zone\n  analyzeMultiZone: (videoId: string, zones: Array<{\n    name: string\n    polygon: number[][]\n  }>, options?: {\n    conf?: number\n    min_wait_sec_filter?: number\n    sample_stride?: number\n  }) =>\n    apiClient.post('/analyze-multi-zone', {\n      video_id: videoId,\n      zones,\n      conf: options?.conf || 0.4,\n      min_wait_sec_filter: options?.min_wait_sec_filter || 1.0,\n      sample_stride: options?.sample_stride || 40,\n    }),\n}\n\n// Legacy Queue Management API (keep for backwards compatibility)\nexport const queueApi = {\n  getMetrics: (timeRange = '1h') =>\n    apiClient.get('/api/queue/metrics', {\n      method: 'GET',\n      headers: { 'X-Time-Range': timeRange },\n    }),\n\n  getQueues: () => apiClient.get('/api/queues'),\n\n  getQueueById: (queueId: string) => apiClient.get(`/api/queues/${queueId}`),\n\n  getZoneStats: (zoneId: number) =>\n    apiClient.get(`/api/zones/${zoneId}/stats`),\n\n  processZoneConfig: (config: any) =>\n    apiClient.post('/api/zones/config', config),\n}\n\n// Detection API\nexport const detectionApi = {\n  startDetection: (videoId: string, zoneConfig: any) =>\n    apiClient.post(`/api/detection/start`, { videoId, zoneConfig }),\n\n  stopDetection: (detectionId: string) =>\n    apiClient.post(`/api/detection/${detectionId}/stop`),\n\n  getDetectionResults: (detectionId: string) =>\n    apiClient.get(`/api/detection/${detectionId}/results`),\n\n  getLiveDetectionStream: (detectionId: string) =>\n    `${API_URL}/api/detection/${detectionId}/stream`,\n}\n\n// Employee API\nexport const employeeApi = {\n  getEmployees: () => apiClient.get('/api/employees'),\n\n  createEmployee: (employee: any) =>\n    apiClient.post('/api/employees', employee),\n\n  updateEmployee: (id: string, employee: any) =>\n    apiClient.put(`/api/employees/${id}`, employee),\n\n  deleteEmployee: (id: string) => apiClient.delete(`/api/employees/${id}`),\n\n  updateAvailability: (id: string, availability: string) =>\n    apiClient.put(`/api/employees/${id}/availability`, { availability }),\n}\n\n// Notifications API\nexport const notificationsApi = {\n  getNotifications: () => apiClient.get('/api/notifications'),\n\n  createNotification: (notification: any) =>\n    apiClient.post('/api/notifications', notification),\n\n  markAsRead: (id: string) =>\n    apiClient.put(`/api/notifications/${id}/read`),\n\n  deleteNotification: (id: string) =>\n    apiClient.delete(`/api/notifications/${id}`),\n}\n\n// WebSocket for real-time updates\nexport class QueueWebSocket {\n  private ws: WebSocket | null = null\n  private url: string\n  private reconnectAttempts = 0\n  private maxReconnectAttempts = 5\n  private listeners: Map<string, Function[]> = new Map()\n\n  constructor(url = `${API_URL.replace('http', 'ws')}/api/ws`) {\n    this.url = url\n  }\n\n  connect() {\n    // Temporarily disabled - WebSocket endpoint not implemented yet\n    console.log('[WebSocket] Disabled - endpoint not implemented')\n    return\n  }\n\n  private attemptReconnect() {\n    // Disabled\n    return\n    /*\n    if (this.reconnectAttempts < this.maxReconnectAttempts) {\n      this.reconnectAttempts++\n      const delay = Math.min(1000 * Math.pow(2, this.reconnectAttempts), 30000)\n      console.log(`[WebSocket] Attempting reconnect in ${delay}ms`)\n      setTimeout(() => this.connect(), delay)\n    }\n    */\n  }\n\n  send(type: string, payload: any) {\n    if (this.ws?.readyState === WebSocket.OPEN) {\n      this.ws.send(JSON.stringify({ type, payload }))\n    } else {\n      console.warn('[WebSocket] Not connected, cannot send message')\n    }\n  }\n\n  on(event: string, callback: Function) {\n    if (!this.listeners.has(event)) {\n      this.listeners.set(event, [])\n    }\n    this.listeners.get(event)!.push(callback)\n  }\n\n  off(event: string, callback: Function) {\n    const listeners = this.listeners.get(event)\n    if (listeners) {\n      this.listeners.set(\n        event,\n        listeners.filter((cb) => cb !== callback)\n      )\n    }\n  }\n\n  private emit(event: string, data: any) {\n    const listeners = this.listeners.get(event) || []\n    listeners.forEach((cb) => cb(data))\n  }\n\n  disconnect() {\n    if (this.ws) {\n      this.ws.close()\n      this.ws = null\n    }\n  }\n}\n\nexport const queueWs = new QueueWebSocket()\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2110, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/hooks/use-toast.ts"],"sourcesContent":["'use client'\n\n// Inspired by react-hot-toast library\nimport * as React from 'react'\n\nimport type { ToastActionElement, ToastProps } from '@/components/ui/toast'\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: 'ADD_TOAST',\n  UPDATE_TOAST: 'UPDATE_TOAST',\n  DISMISS_TOAST: 'DISMISS_TOAST',\n  REMOVE_TOAST: 'REMOVE_TOAST',\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType['ADD_TOAST']\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType['UPDATE_TOAST']\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType['DISMISS_TOAST']\n      toastId?: ToasterToast['id']\n    }\n  | {\n      type: ActionType['REMOVE_TOAST']\n      toastId?: ToasterToast['id']\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: 'REMOVE_TOAST',\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_TOAST':\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case 'UPDATE_TOAST':\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      }\n\n    case 'DISMISS_TOAST': {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      }\n    }\n    case 'REMOVE_TOAST':\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, 'id'>\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: 'UPDATE_TOAST',\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id })\n\n  dispatch({\n    type: 'ADD_TOAST',\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2267, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/components/pages/video-upload-page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport { Upload, AlertCircle, Download, Trash2, Play, Loader2 } from 'lucide-react'\nimport { PolygonCanvas } from '@/components/video/polygon-canvas'\nimport { ZoneAnalyticsDashboard } from '@/components/analytics/zone-analytics-dashboard'\nimport { setGlobalAnalysisData } from '@/components/pages/analytics-dashboard'\nimport { videoApi } from '@/lib/api-client'\nimport { useToast } from '@/hooks/use-toast'\n\ninterface Zone {\n  id: number\n  points: Array<[number, number]>\n  frameIndex: number\n  name: string\n}\n\ninterface VideoInfo {\n  video_id: string\n  width: number\n  height: number\n  first_frame: string\n  fps: number\n  frame_count: number\n  duration_sec: number\n}\n\ninterface AnalysisData {\n  zones: Array<{\n    zone_name: string\n    polygon_id: number\n    metrics: {\n      avg_wait: number | null\n      min_wait: number | null\n      max_wait: number | null\n      avg_queue_len: number | null\n      max_queue_len: number\n      num_people_measured: number\n      total_people_tracked: number\n    }\n    queue_timestamps: number[]\n    queue_lengths: number[]\n    wait_times: number[]\n  }>\n  output_video_url?: string\n  fps: number\n  frame_count: number\n  duration_sec: number\n}\n\nexport function VideoUploadPage() {\n  const [videoFile, setVideoFile] = useState<File | null>(null)\n  const [videoUrl, setVideoUrl] = useState<string | null>(null)\n  const [videoInfo, setVideoInfo] = useState<VideoInfo | null>(null)\n  const [loading, setLoading] = useState(false)\n  const [analyzing, setAnalyzing] = useState(false)\n  const [step, setStep] = useState<'upload' | 'drawing' | 'results'>('upload')\n  const [zones, setZones] = useState<Zone[]>([])\n  const [currentZone, setCurrentZone] = useState(1)\n  const [analysisResults, setAnalysisResults] = useState<AnalysisData | null>(null)\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const { toast } = useToast()\n\n  const handleVideoUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file || !file.type.startsWith('video/')) {\n      toast({\n        title: 'Invalid file',\n        description: 'Please upload a valid video file',\n        variant: 'destructive',\n      })\n      return\n    }\n\n    setLoading(true)\n    setVideoFile(file)\n\n    try {\n      // Create a local blob URL for the video file (for canvas drawing)\n      const localVideoUrl = URL.createObjectURL(file)\n      \n      // Upload to FastAPI backend\n      const response = await videoApi.uploadVideo(file)\n      \n      if (!response.success || !response.data) {\n        throw new Error(response.error || 'Upload failed')\n      }\n\n      setVideoInfo(response.data)\n      setVideoUrl(localVideoUrl) // Use local video file for drawing\n      setStep('drawing')\n      setZones([])\n\n      toast({\n        title: 'Video uploaded',\n        description: `Video processed successfully (${response.data?.width || 0}x${response.data?.height || 0}, ${response.data?.fps?.toFixed(1) || 0} FPS)`,\n      })\n    } catch (error) {\n      console.error('Upload error:', error)\n      toast({\n        title: 'Upload failed',\n        description: error instanceof Error ? error.message : 'Failed to upload video',\n        variant: 'destructive',\n      })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleDownloadConfig = () => {\n    const config = zones.map(z => z.points)\n    const dataStr = JSON.stringify(config, null, 2)\n    const dataBlob = new Blob([dataStr], { type: 'application/json' })\n    const url = URL.createObjectURL(dataBlob)\n    const link = document.createElement('a')\n    link.href = url\n    link.download = 'zone-config.json'\n    link.click()\n  }\n\n  const handleZoneComplete = (points: Array<[number, number]>) => {\n    const newZone: Zone = {\n      id: currentZone,\n      points,\n      frameIndex: 1,\n      name: `Zone ${currentZone}`\n    }\n    setZones([...zones, newZone])\n    if (currentZone < 3) {\n      setCurrentZone(currentZone + 1)\n    }\n  }\n\n  const handleRemoveZone = (id: number) => {\n    setZones(zones.filter(z => z.id !== id))\n  }\n\n  const handleAnalyze = async () => {\n    if (!videoInfo || zones.length === 0) {\n      toast({\n        title: 'Cannot analyze',\n        description: 'Please define at least one zone first',\n        variant: 'destructive',\n      })\n      return\n    }\n\n    setAnalyzing(true)\n\n    try {\n      // Convert zones to the format expected by FastAPI\n      // Backend expects: list[list[int]] - array of [x, y] pairs as integers\n      const zonesForApi = zones.map(z => ({\n        name: z.name,\n        polygon: z.points.map(point => [\n          Math.round(point[0]), \n          Math.round(point[1])\n        ])\n      }))\n\n      console.log('Sending zones to API:', zonesForApi)\n      console.log('Zones structure:', JSON.stringify(zonesForApi, null, 2))\n\n      const response = await videoApi.analyzeMultiZone(\n        videoInfo.video_id,\n        zonesForApi,\n        {\n          conf: 0.4,\n          min_wait_sec_filter: 1.0,\n          sample_stride: 40\n        }\n      )\n\n      if (!response.success || !response.data) {\n        throw new Error(response.error || 'Analysis failed')\n      }\n\n      setAnalysisResults(response.data)\n      setStep('results')\n\n      toast({\n        title: 'Analysis complete',\n        description: `Analyzed ${zones.length} zone(s) successfully`,\n      })\n    } catch (error) {\n      console.error('Analysis error:', error)\n      toast({\n        title: 'Analysis failed',\n        description: error instanceof Error ? error.message : 'Failed to analyze video',\n        variant: 'destructive',\n      })\n    } finally {\n      setAnalyzing(false)\n    }\n  }\n\n  return (\n    <div className=\"space-y-6 pb-24 lg:pb-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold mb-2\">Zone Configuration</h1>\n        <p className=\"text-muted-foreground\">Upload a video and define detection zones for queue monitoring</p>\n      </div>\n\n      {step === 'upload' && (\n        <>\n          {/* Upload Section */}\n          <div className=\"bg-card rounded-lg border border-border p-8\">\n            <div className=\"border-2 border-dashed border-border rounded-lg p-12 text-center hover:border-primary/50 transition-colors cursor-pointer\"\n              onClick={() => fileInputRef.current?.click()}>\n              <Upload className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\n              <h3 className=\"font-semibold mb-2\">Upload Video File</h3>\n              <p className=\"text-sm text-muted-foreground mb-4\">\n                Drag and drop your video or click to browse (MP4, MOV, AVI)\n              </p>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\"video/*\"\n                className=\"hidden\"\n                onChange={handleVideoUpload}\n              />\n              <button\n                onClick={(e) => {\n                  e.stopPropagation()\n                  fileInputRef.current?.click()\n                }}\n                className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors\"\n              >\n                Select Video\n              </button>\n            </div>\n          </div>\n\n          {/* Info Section */}\n          <div className=\"bg-card rounded-lg border border-border p-6\">\n            <div className=\"flex gap-3\">\n              <AlertCircle className=\"w-5 h-5 text-accent flex-shrink-0 mt-0.5\" />\n              <div>\n                <h4 className=\"font-semibold mb-2\">Zone Drawing Guide</h4>\n                <ul className=\"text-sm text-muted-foreground space-y-1\">\n                  <li> Upload a video showing your queue area</li>\n                  <li> Draw custom polygons on 3 key frames to define detection zones</li>\n                  <li> Configure up to 3 different zones per video</li>\n                  <li> JSON config will be used by YOLO for detection</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n\n      {step === 'drawing' && videoUrl && (\n        <>\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n            <div className=\"lg:col-span-2\">\n              <PolygonCanvas\n                videoUrl={videoUrl}\n                zoneNumber={currentZone}\n                onComplete={handleZoneComplete}\n                maxZones={3}\n                existingZonesCount={zones.length}\n              />\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"bg-card rounded-lg border border-border p-6\">\n                <h3 className=\"font-semibold mb-4\">Configured Zones</h3>\n                <div className=\"space-y-2\">\n                  {zones.map((zone) => (\n                    <div key={zone.id} className=\"flex items-center justify-between p-3 bg-muted rounded-lg\">\n                      <div className=\"flex-1\">\n                        <p className=\"font-medium text-sm\">{zone.name}</p>\n                        <p className=\"text-xs text-muted-foreground\">{zone.points.length} points</p>\n                      </div>\n                      <button\n                        onClick={() => handleRemoveZone(zone.id)}\n                        className=\"p-1 hover:bg-destructive/10 text-destructive rounded transition-colors\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"bg-card rounded-lg border border-border p-6\">\n                <h4 className=\"font-semibold mb-3\">Instructions</h4>\n                <ol className=\"text-sm text-muted-foreground space-y-2\">\n                  <li>1. <strong>Click</strong> on video to add points</li>\n                  <li>2. <strong>Double-click</strong> to complete zone</li>\n                  <li>3. Create up to 3 zones</li>\n                  <li>4. Download JSON config</li>\n                </ol>\n              </div>\n\n              {zones.length > 0 && (\n                <div className=\"space-y-3\">\n                  <button\n                    onClick={handleAnalyze}\n                    disabled={analyzing}\n                    className=\"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {analyzing ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\n                        Analyzing...\n                      </>\n                    ) : (\n                      <>\n                        <Play className=\"w-4 h-4\" />\n                        Analyze {zones.length} Zone{zones.length > 1 ? 's' : ''}\n                      </>\n                    )}\n                  </button>\n                  \n                  <button\n                    onClick={handleDownloadConfig}\n                    className=\"w-full flex items-center justify-center gap-2 px-4 py-2 bg-secondary text-secondary-foreground rounded-lg hover:bg-secondary/90 transition-colors\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    Download Config\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        </>\n      )}\n\n      {step === 'results' && analysisResults && (\n        <div className=\"space-y-6\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-2xl font-bold\">Analysis Results</h2>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => {\n                  setStep('drawing')\n                  setAnalysisResults(null)\n                }}\n                className=\"px-4 py-2 bg-secondary text-secondary-foreground rounded-lg hover:bg-secondary/90 transition-colors\"\n              >\n                Back to Zones\n              </button>\n              <button\n                onClick={() => {\n                  setStep('upload')\n                  setVideoFile(null)\n                  setVideoUrl(null)\n                  setVideoInfo(null)\n                  setZones([])\n                  setAnalysisResults(null)\n                  setCurrentZone(1)\n                }}\n                className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors\"\n              >\n                New Analysis\n              </button>\n            </div>\n          </div>\n\n          <ZoneAnalyticsDashboard data={analysisResults} />\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2923, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/components/employees/employee-form.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { X } from 'lucide-react'\nimport { Employee } from '@/components/pages/employee-management-page'\n\ninterface EmployeeFormProps {\n  employee?: Employee\n  onSubmit: (data: Omit<Employee, 'id'>) => void\n  onCancel: () => void\n}\n\nexport function EmployeeForm({ employee, onSubmit, onCancel }: EmployeeFormProps) {\n  const [formData, setFormData] = useState({\n    name: employee?.name || '',\n    email: employee?.email || '',\n    phone: employee?.phone || '',\n    role: employee?.role || 'cashier' as const,\n    availability: employee?.availability || 'available' as const,\n    zone: employee?.zone || 1,\n    startTime: employee?.startTime || '09:00',\n    endTime: employee?.endTime || '17:00',\n  })\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    onSubmit(formData)\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-card rounded-lg border border-border max-w-md w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex items-center justify-between p-6 border-b border-border\">\n          <h2 className=\"text-xl font-semibold\">\n            {employee ? 'Edit Employee' : 'Add Employee'}\n          </h2>\n          <button\n            onClick={onCancel}\n            className=\"p-1 hover:bg-muted rounded transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">Name</label>\n            <input\n              type=\"text\"\n              required\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              className=\"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n              placeholder=\"John Doe\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">Email</label>\n            <input\n              type=\"email\"\n              required\n              value={formData.email}\n              onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n              className=\"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n              placeholder=\"john@store.com\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">Phone</label>\n            <input\n              type=\"tel\"\n              value={formData.phone}\n              onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n              className=\"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n              placeholder=\"+1234567890\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Role</label>\n              <select\n                value={formData.role}\n                onChange={(e) =>\n                  setFormData({\n                    ...formData,\n                    role: e.target.value as 'cashier' | 'supervisor' | 'manager',\n                  })\n                }\n                className=\"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n              >\n                <option value=\"cashier\">Cashier</option>\n                <option value=\"supervisor\">Supervisor</option>\n                <option value=\"manager\">Manager</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Availability</label>\n              <select\n                value={formData.availability}\n                onChange={(e) =>\n                  setFormData({\n                    ...formData,\n                    availability: e.target.value as 'available' | 'busy' | 'break',\n                  })\n                }\n                className=\"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n              >\n                <option value=\"available\">Available</option>\n                <option value=\"busy\">Busy</option>\n                <option value=\"break\">Break</option>\n              </select>\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">Assigned Zone</label>\n            <select\n              value={formData.zone}\n              onChange={(e) => setFormData({ ...formData, zone: parseInt(e.target.value) })}\n              className=\"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n            >\n              <option value=\"\">None</option>\n              <option value={1}>Zone 1</option>\n              <option value={2}>Zone 2</option>\n              <option value={3}>Zone 3</option>\n            </select>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Start Time</label>\n              <input\n                type=\"time\"\n                value={formData.startTime}\n                onChange={(e) => setFormData({ ...formData, startTime: e.target.value })}\n                className=\"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">End Time</label>\n              <input\n                type=\"time\"\n                value={formData.endTime}\n                onChange={(e) => setFormData({ ...formData, endTime: e.target.value })}\n                className=\"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n              />\n            </div>\n          </div>\n\n          <div className=\"flex gap-2 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"flex-1 px-4 py-2 bg-muted text-foreground rounded-lg hover:bg-muted/80 transition-colors font-semibold\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-semibold\"\n            >\n              {employee ? 'Update' : 'Add'} Employee\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3381, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/components/employees/employee-list.tsx"],"sourcesContent":["'use client'\n\nimport { Trash2, Edit2, Clock, MapPin } from 'lucide-react'\nimport { Employee } from '@/components/pages/employee-management-page'\n\ninterface EmployeeListProps {\n  employees: Employee[]\n  onEdit: (id: string) => void\n  onDelete: (id: string) => void\n}\n\nexport function EmployeeList({ employees, onEdit, onDelete }: EmployeeListProps) {\n  const getRoleColor = (role: string) => {\n    switch (role) {\n      case 'manager':\n        return 'bg-purple-500/10 text-purple-600 dark:text-purple-400'\n      case 'supervisor':\n        return 'bg-blue-500/10 text-blue-600 dark:text-blue-400'\n      default:\n        return 'bg-green-500/10 text-green-600 dark:text-green-400'\n    }\n  }\n\n  const getAvailabilityStatus = (availability: string) => {\n    switch (availability) {\n      case 'available':\n        return { dot: 'bg-green-500', label: 'Available' }\n      case 'busy':\n        return { dot: 'bg-yellow-500', label: 'Busy' }\n      case 'break':\n        return { dot: 'bg-red-500', label: 'Break' }\n      default:\n        return { dot: 'bg-gray-500', label: 'Unknown' }\n    }\n  }\n\n  return (\n    <div className=\"bg-card rounded-lg border border-border overflow-hidden\">\n      {employees.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <p className=\"text-muted-foreground\">No employees found. Add one to get started.</p>\n        </div>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"border-b border-border bg-muted\">\n              <tr>\n                <th className=\"text-left px-4 md:px-6 py-3 font-semibold\">Name</th>\n                <th className=\"text-left px-4 md:px-6 py-3 font-semibold hidden md:table-cell\">Email</th>\n                <th className=\"text-left px-4 md:px-6 py-3 font-semibold\">Role</th>\n                <th className=\"text-left px-4 md:px-6 py-3 font-semibold\">Status</th>\n                <th className=\"text-right px-4 md:px-6 py-3 font-semibold\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {employees.map((emp) => {\n                const status = getAvailabilityStatus(emp.availability)\n                return (\n                  <tr key={emp.id} className=\"border-b border-border hover:bg-muted/50 transition-colors\">\n                    <td className=\"px-4 md:px-6 py-4\">\n                      <div className=\"font-medium\">{emp.name}</div>\n                      <div className=\"text-xs text-muted-foreground md:hidden\">{emp.email}</div>\n                    </td>\n                    <td className=\"px-4 md:px-6 py-4 hidden md:table-cell\">\n                      <p className=\"text-sm text-muted-foreground\">{emp.email}</p>\n                    </td>\n                    <td className=\"px-4 md:px-6 py-4\">\n                      <span className={`px-2 py-1 rounded text-xs font-semibold capitalize ${getRoleColor(emp.role)}`}>\n                        {emp.role}\n                      </span>\n                    </td>\n                    <td className=\"px-4 md:px-6 py-4\">\n                      <div className=\"flex items-center gap-2\">\n                        <div className={`w-2 h-2 rounded-full ${status.dot}`}></div>\n                        <span className=\"text-sm\">{status.label}</span>\n                      </div>\n                    </td>\n                    <td className=\"px-4 md:px-6 py-4 text-right space-x-2\">\n                      <button\n                        onClick={() => onEdit(emp.id)}\n                        className=\"inline-p-2 hover:bg-muted rounded transition-colors text-primary hover:text-primary/90\"\n                        title=\"Edit employee\"\n                      >\n                        <Edit2 className=\"w-4 h-4\" />\n                      </button>\n                      <button\n                        onClick={() => onDelete(emp.id)}\n                        className=\"inline-p-2 hover:bg-destructive/10 text-destructive rounded transition-colors\"\n                        title=\"Delete employee\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </td>\n                  </tr>\n                )\n              })}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAFA;;;AAWO,SAAS,aAAa,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAqB;IAC7E,MAAM,eAAe,CAAC;QACpB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,MAAM,wBAAwB,CAAC;QAC7B,OAAQ;YACN,KAAK;gBACH,OAAO;oBAAE,KAAK;oBAAgB,OAAO;gBAAY;YACnD,KAAK;gBACH,OAAO;oBAAE,KAAK;oBAAiB,OAAO;gBAAO;YAC/C,KAAK;gBACH,OAAO;oBAAE,KAAK;oBAAc,OAAO;gBAAQ;YAC7C;gBACE,OAAO;oBAAE,KAAK;oBAAe,OAAO;gBAAU;QAClD;IACF;IAEA,qBACE,6WAAC;QAAI,WAAU;kBACZ,UAAU,MAAM,KAAK,kBACpB,6WAAC;YAAI,WAAU;sBACb,cAAA,6WAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;iCAGvC,6WAAC;YAAI,WAAU;sBACb,cAAA,6WAAC;gBAAM,WAAU;;kCACf,6WAAC;wBAAM,WAAU;kCACf,cAAA,6WAAC;;8CACC,6WAAC;oCAAG,WAAU;8CAA4C;;;;;;8CAC1D,6WAAC;oCAAG,WAAU;8CAAiE;;;;;;8CAC/E,6WAAC;oCAAG,WAAU;8CAA4C;;;;;;8CAC1D,6WAAC;oCAAG,WAAU;8CAA4C;;;;;;8CAC1D,6WAAC;oCAAG,WAAU;8CAA6C;;;;;;;;;;;;;;;;;kCAG/D,6WAAC;kCACE,UAAU,GAAG,CAAC,CAAC;4BACd,MAAM,SAAS,sBAAsB,IAAI,YAAY;4BACrD,qBACE,6WAAC;gCAAgB,WAAU;;kDACzB,6WAAC;wCAAG,WAAU;;0DACZ,6WAAC;gDAAI,WAAU;0DAAe,IAAI,IAAI;;;;;;0DACtC,6WAAC;gDAAI,WAAU;0DAA2C,IAAI,KAAK;;;;;;;;;;;;kDAErE,6WAAC;wCAAG,WAAU;kDACZ,cAAA,6WAAC;4CAAE,WAAU;sDAAiC,IAAI,KAAK;;;;;;;;;;;kDAEzD,6WAAC;wCAAG,WAAU;kDACZ,cAAA,6WAAC;4CAAK,WAAW,CAAC,mDAAmD,EAAE,aAAa,IAAI,IAAI,GAAG;sDAC5F,IAAI,IAAI;;;;;;;;;;;kDAGb,6WAAC;wCAAG,WAAU;kDACZ,cAAA,6WAAC;4CAAI,WAAU;;8DACb,6WAAC;oDAAI,WAAW,CAAC,qBAAqB,EAAE,OAAO,GAAG,EAAE;;;;;;8DACpD,6WAAC;oDAAK,WAAU;8DAAW,OAAO,KAAK;;;;;;;;;;;;;;;;;kDAG3C,6WAAC;wCAAG,WAAU;;0DACZ,6WAAC;gDACC,SAAS,IAAM,OAAO,IAAI,EAAE;gDAC5B,WAAU;gDACV,OAAM;0DAEN,cAAA,6WAAC,+RAAK;oDAAC,WAAU;;;;;;;;;;;0DAEnB,6WAAC;gDACC,SAAS,IAAM,SAAS,IAAI,EAAE;gDAC9B,WAAU;gDACV,OAAM;0DAEN,cAAA,6WAAC,wSAAM;oDAAC,WAAU;;;;;;;;;;;;;;;;;;+BAhCf,IAAI,EAAE;;;;;wBAqCnB;;;;;;;;;;;;;;;;;;;;;;AAOd"}},
    {"offset": {"line": 3668, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/components/pages/employee-management-page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { Plus, Trash2, Edit2, Clock } from 'lucide-react'\nimport { EmployeeForm } from '@/components/employees/employee-form'\nimport { EmployeeList } from '@/components/employees/employee-list'\n\nexport interface Employee {\n  id: string\n  name: string\n  email: string\n  role: 'cashier' | 'supervisor' | 'manager'\n  availability: 'available' | 'busy' | 'break'\n  zone?: number\n  startTime?: string\n  endTime?: string\n  phone?: string\n}\n\nexport function EmployeeManagementPage() {\n  const [employees, setEmployees] = useState<Employee[]>([\n    {\n      id: '1',\n      name: 'Alice Johnson',\n      email: 'alice@store.com',\n      role: 'cashier',\n      availability: 'available',\n      zone: 1,\n      startTime: '09:00',\n      endTime: '17:00',\n      phone: '+1234567890',\n    },\n    {\n      id: '2',\n      name: 'Bob Smith',\n      email: 'bob@store.com',\n      role: 'cashier',\n      availability: 'busy',\n      zone: 2,\n      startTime: '10:00',\n      endTime: '18:00',\n      phone: '+1234567891',\n    },\n    {\n      id: '3',\n      name: 'Carol White',\n      email: 'carol@store.com',\n      role: 'supervisor',\n      availability: 'available',\n      startTime: '08:00',\n      endTime: '16:00',\n      phone: '+1234567892',\n    },\n  ])\n\n  const [showAddForm, setShowAddForm] = useState(false)\n  const [editingId, setEditingId] = useState<string | null>(null)\n  const [searchTerm, setSearchTerm] = useState('')\n\n  const handleAddEmployee = (employee: Omit<Employee, 'id'>) => {\n    const newEmployee: Employee = {\n      ...employee,\n      id: Date.now().toString(),\n    }\n    setEmployees([...employees, newEmployee])\n    setShowAddForm(false)\n  }\n\n  const handleUpdateEmployee = (id: string, employee: Omit<Employee, 'id'>) => {\n    setEmployees(\n      employees.map((e) => (e.id === id ? { ...employee, id } : e))\n    )\n    setEditingId(null)\n  }\n\n  const handleDeleteEmployee = (id: string) => {\n    if (confirm('Are you sure you want to delete this employee?')) {\n      setEmployees(employees.filter((e) => e.id !== id))\n    }\n  }\n\n  const filteredEmployees = employees.filter((emp) =>\n    emp.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    emp.email.toLowerCase().includes(searchTerm.toLowerCase())\n  )\n\n  const availableCount = employees.filter((e) => e.availability === 'available').length\n  const roleBreakdown = {\n    cashier: employees.filter((e) => e.role === 'cashier').length,\n    supervisor: employees.filter((e) => e.role === 'supervisor').length,\n    manager: employees.filter((e) => e.role === 'manager').length,\n  }\n\n  return (\n    <div className=\"space-y-6 pb-24 lg:pb-6\">\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold mb-2\">Employee Management</h1>\n          <p className=\"text-muted-foreground\">Manage team members and their availability</p>\n        </div>\n        <button\n          onClick={() => {\n            setEditingId(null)\n            setShowAddForm(!showAddForm)\n          }}\n          className=\"flex items-center justify-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-semibold w-full md:w-auto\"\n        >\n          <Plus className=\"w-4 h-4\" />\n          Add Employee\n        </button>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <div className=\"bg-card rounded-lg border border-border p-4\">\n          <p className=\"text-sm text-muted-foreground mb-1\">Total Employees</p>\n          <p className=\"text-2xl font-bold\">{employees.length}</p>\n        </div>\n        <div className=\"bg-card rounded-lg border border-border p-4\">\n          <p className=\"text-sm text-muted-foreground mb-1\">Available Now</p>\n          <p className=\"text-2xl font-bold text-green-500\">{availableCount}</p>\n        </div>\n        <div className=\"bg-card rounded-lg border border-border p-4\">\n          <p className=\"text-sm text-muted-foreground mb-1\">Cashiers</p>\n          <p className=\"text-2xl font-bold\">{roleBreakdown.cashier}</p>\n        </div>\n      </div>\n\n      {/* Add/Edit Form */}\n      {(showAddForm || editingId) && (\n        <EmployeeForm\n          employee={editingId ? employees.find((e) => e.id === editingId) : undefined}\n          onSubmit={(data) => {\n            if (editingId) {\n              handleUpdateEmployee(editingId, data)\n            } else {\n              handleAddEmployee(data)\n            }\n          }}\n          onCancel={() => {\n            setShowAddForm(false)\n            setEditingId(null)\n          }}\n        />\n      )}\n\n      {/* Search Bar */}\n      <div className=\"flex gap-2\">\n        <input\n          type=\"text\"\n          placeholder=\"Search by name or email...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"flex-1 px-4 py-2 bg-card border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n        />\n      </div>\n\n      {/* Employee List */}\n      <EmployeeList\n        employees={filteredEmployees}\n        onEdit={(id) => setEditingId(id)}\n        onDelete={handleDeleteEmployee}\n      />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3948, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/components/pages/analytics-dashboard.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { BarChart, Bar, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell, AreaChart, Area } from 'recharts'\nimport { Users, Clock, TrendingUp, AlertCircle, Target, Zap, RefreshCw } from 'lucide-react'\n\ninterface QueueMetrics {\n  totalCustomers: number\n  customersServed: number\n  averageServiceTime: number\n  customersAbandoned: number\n  queueEfficiency: number\n  peakTime: string\n  zones: {\n    zoneId: number\n    customers: number\n    avgWaitTime: number\n  }[]\n}\n\n// Store for analysis results from the video upload page\nlet globalAnalysisData: any = null\n\nexport function setGlobalAnalysisData(data: any) {\n  globalAnalysisData = data\n}\n\nexport function AnalyticsDashboard() {\n  const [metrics, setMetrics] = useState<QueueMetrics>({\n    totalCustomers: 0,\n    customersServed: 0,\n    averageServiceTime: 0,\n    customersAbandoned: 0,\n    queueEfficiency: 0,\n    peakTime: '--',\n    zones: [],\n  })\n\n  const [refreshing, setRefreshing] = useState(false)\n  const [timeRange, setTimeRange] = useState('1h')\n  const [hasData, setHasData] = useState(false)\n\n  // Load data from backend analysis results\n  useEffect(() => {\n    const loadAnalysisData = () => {\n      if (globalAnalysisData && globalAnalysisData.zones) {\n        const zones = globalAnalysisData.zones\n        \n        // Calculate metrics from actual backend data\n        const totalPeople = zones.reduce((sum: number, z: any) => sum + z.metrics.total_people_tracked, 0)\n        const measuredPeople = zones.reduce((sum: number, z: any) => sum + z.metrics.num_people_measured, 0)\n        const avgWait = zones.reduce((sum: number, z: any) => sum + (z.metrics.avg_wait || 0), 0) / (zones.length || 1)\n        \n        // Find peak time based on max queue length\n        let peakTime = '--'\n        zones.forEach((z: any) => {\n          if (z.queue_lengths && z.queue_timestamps) {\n            const maxIdx = z.queue_lengths.indexOf(Math.max(...z.queue_lengths))\n            if (maxIdx >= 0 && z.queue_timestamps[maxIdx]) {\n              const seconds = z.queue_timestamps[maxIdx]\n              const date = new Date(seconds * 1000)\n              peakTime = date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })\n            }\n          }\n        })\n        \n        setMetrics({\n          totalCustomers: totalPeople,\n          customersServed: measuredPeople,\n          averageServiceTime: avgWait / 60, // Convert seconds to minutes\n          customersAbandoned: totalPeople - measuredPeople, // People who left before threshold\n          queueEfficiency: totalPeople > 0 ? Math.round((measuredPeople / totalPeople) * 100) : 0,\n          peakTime: peakTime,\n          zones: zones.map((z: any, idx: number) => ({\n            zoneId: idx + 1,\n            customers: z.metrics.total_people_tracked,\n            avgWaitTime: z.metrics.avg_wait ? (z.metrics.avg_wait / 60).toFixed(1) : 0, // Convert to minutes\n          }))\n        })\n        setHasData(true)\n      } else {\n        setHasData(false)\n      }\n    }\n    \n    loadAnalysisData()\n    \n    // Poll for updates every 5 seconds\n    const interval = setInterval(loadAnalysisData, 5000)\n    return () => clearInterval(interval)\n  }, [])\n\n  // Generate time-series data from backend results\n  const generateTimeSeriesData = () => {\n    if (!globalAnalysisData || !globalAnalysisData.zones || globalAnalysisData.zones.length === 0) {\n      return []\n    }\n    \n    const zone = globalAnalysisData.zones[0]\n    if (!zone.queue_timestamps || !zone.queue_lengths) {\n      return []\n    }\n    \n    // Sample data points (every 10% of the video)\n    const sampleSize = Math.min(6, zone.queue_timestamps.length)\n    const step = Math.floor(zone.queue_timestamps.length / sampleSize)\n    \n    return Array.from({ length: sampleSize }, (_, i) => {\n      const idx = i * step\n      const timestamp = zone.queue_timestamps[idx]\n      const date = new Date(timestamp * 1000)\n      const timeStr = date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })\n      \n      const dataPoint: any = { time: timeStr }\n      \n      // Add data for each zone\n      globalAnalysisData.zones.forEach((z: any, zIdx: number) => {\n        dataPoint[`customers_z${zIdx + 1}`] = z.queue_lengths[idx] || 0\n        dataPoint[`zone${zIdx + 1}`] = z.queue_lengths[idx] ? (z.wait_times[Math.min(idx, z.wait_times.length - 1)] || 0) / 60 : 0\n      })\n      \n      return dataPoint\n    })\n  }\n\n  const queueData = hasData ? generateTimeSeriesData() : []\n  const waitTimeData = hasData ? generateTimeSeriesData() : []\n  \n  const customerFlow = hasData && globalAnalysisData ? generateTimeSeriesData().map((d: any) => ({\n    time: d.time,\n    inflow: d.customers_z1 || 0,\n    outflow: Math.max(0, (d.customers_z1 || 0) - 2), // Approximate outflow\n  })) : []\n  \n  const zoneDistribution = hasData && metrics.zones.length > 0 ? metrics.zones.map(z => ({\n    name: `Zone ${z.zoneId}`,\n    value: z.customers\n  })) : [\n    { name: 'No Data', value: 1 }\n  ]\n\n  const COLORS = ['#00d9ff', '#0080ff', '#ff6b9d']\n\n  const stats = [\n    {\n      label: 'Avg Service Time',\n      value: `${metrics.averageServiceTime} min`,\n      icon: Clock,\n      change: '-12%',\n      color: 'text-blue-500',\n    },\n    {\n      label: 'Active Customers',\n      value: metrics.totalCustomers,\n      icon: Users,\n      change: '+5%',\n      color: 'text-cyan-500',\n    },\n    {\n      label: 'Queue Efficiency',\n      value: `${metrics.queueEfficiency}%`,\n      icon: TrendingUp,\n      change: '+3%',\n      color: 'text-green-500',\n    },\n    {\n      label: 'Abandoned (1h)',\n      value: metrics.customersAbandoned,\n      icon: AlertCircle,\n      change: '-1%',\n      color: 'text-red-500',\n    },\n  ]\n\n  const handleRefresh = async () => {\n    setRefreshing(true)\n    // Reload from global data\n    await new Promise(resolve => setTimeout(resolve, 500))\n    if (globalAnalysisData && globalAnalysisData.zones) {\n      // Data is already loaded from useEffect\n    }\n    setRefreshing(false)\n  }\n\n  return (\n    <div className=\"space-y-6 pb-24 lg:pb-6\">\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold mb-2\">Queue Analytics Dashboard</h1>\n          <p className=\"text-muted-foreground\">Real-time monitoring and insights</p>\n        </div>\n        <button\n          onClick={handleRefresh}\n          disabled={refreshing}\n          className=\"flex items-center justify-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50 transition-colors font-semibold\"\n        >\n          <RefreshCw className={`w-4 h-4 ${refreshing ? 'animate-spin' : ''}`} />\n          {refreshing ? 'Refreshing...' : 'Refresh'}\n        </button>\n      </div>\n\n      {/* Time Range Filter */}\n      <div className=\"flex gap-2\">\n        {['1h', '4h', '24h', '7d'].map((range) => (\n          <button\n            key={range}\n            onClick={() => setTimeRange(range)}\n            className={`px-4 py-2 rounded-lg font-semibold transition-colors ${\n              timeRange === range\n                ? 'bg-primary text-primary-foreground'\n                : 'bg-muted text-foreground hover:bg-muted/80'\n            }`}\n          >\n            {range}\n          </button>\n        ))}\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        {stats.map((stat, i) => {\n          const Icon = stat.icon\n          return (\n            <div key={i} className=\"bg-card rounded-lg border border-border p-6\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div className=\"p-2 rounded-lg bg-primary/10\">\n                  <Icon className={`w-6 h-6 ${stat.color}`} />\n                </div>\n                <span className=\"text-xs font-semibold text-green-600 dark:text-green-400\">\n                  {stat.change}\n                </span>\n              </div>\n              <p className=\"text-sm text-muted-foreground mb-1\">{stat.label}</p>\n              <p className=\"text-2xl font-bold\">{stat.value}</p>\n            </div>\n          )\n        })}\n      </div>\n\n      {/* Zone Performance */}\n      <div className=\"bg-card rounded-lg border border-border p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Zone Performance</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {metrics.zones.map((zone) => (\n            <div key={zone.zoneId} className=\"p-4 bg-muted rounded-lg\">\n              <div className=\"flex items-start justify-between mb-3\">\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Zone {zone.zoneId}</p>\n                  <p className=\"text-2xl font-bold\">{zone.customers}</p>\n                </div>\n                <div className=\"p-2 rounded-lg bg-primary/10\">\n                  <Target className=\"w-5 h-5 text-primary\" />\n                </div>\n              </div>\n              <p className=\"text-sm\">\n                Avg Wait: <span className=\"font-semibold\">{zone.avgWaitTime}m</span>\n              </p>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Charts */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Line Chart - Queue Activity */}\n        <div className=\"lg:col-span-2 bg-card rounded-lg border border-border p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Queue Activity</h3>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <LineChart data={queueData}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--border)\" />\n              <XAxis dataKey=\"time\" stroke=\"var(--muted-foreground)\" />\n              <YAxis stroke=\"var(--muted-foreground)\" />\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: 'var(--card)',\n                  border: '1px solid var(--border)',\n                }}\n              />\n              <Legend />\n              <Line\n                type=\"monotone\"\n                dataKey=\"customers\"\n                stroke=\"var(--primary)\"\n                strokeWidth={2}\n                dot={{ r: 4 }}\n                name=\"Total Customers\"\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"served\"\n                stroke=\"var(--accent)\"\n                strokeWidth={2}\n                dot={{ r: 4 }}\n                name=\"Customers Served\"\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n\n        {/* Pie Chart - Load Distribution */}\n        <div className=\"bg-card rounded-lg border border-border p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Load Distribution</h3>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <PieChart>\n              <Pie\n                data={zoneDistribution}\n                cx=\"50%\"\n                cy=\"50%\"\n                labelLine={false}\n                label={({ name, percent }: any) => `${name} ${percent ? (percent * 100).toFixed(0) : 0}%`}\n                outerRadius={80}\n                fill=\"#8884d8\"\n                dataKey=\"value\"\n              >\n                {zoneDistribution.map((entry, index) => (\n                  <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                ))}\n              </Pie>\n            </PieChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* Wait Time Trends */}\n      <div className=\"bg-card rounded-lg border border-border p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Wait Time Trends (by Zone)</h3>\n        <ResponsiveContainer width=\"100%\" height={300}>\n          <LineChart data={waitTimeData}>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--border)\" />\n            <XAxis dataKey=\"time\" stroke=\"var(--muted-foreground)\" />\n            <YAxis stroke=\"var(--muted-foreground)\" label={{ value: 'Wait Time (min)', angle: -90, position: 'insideLeft' }} />\n            <Tooltip\n              contentStyle={{\n                backgroundColor: 'var(--card)',\n                border: '1px solid var(--border)',\n              }}\n            />\n            <Legend />\n            <Line\n              type=\"monotone\"\n              dataKey=\"zone1\"\n              stroke={COLORS[0]}\n              strokeWidth={2}\n              dot={{ r: 3 }}\n              name=\"Zone 1\"\n            />\n            <Line\n              type=\"monotone\"\n              dataKey=\"zone2\"\n              stroke={COLORS[1]}\n              strokeWidth={2}\n              dot={{ r: 3 }}\n              name=\"Zone 2\"\n            />\n            <Line\n              type=\"monotone\"\n              dataKey=\"zone3\"\n              stroke={COLORS[2]}\n              strokeWidth={2}\n              dot={{ r: 3 }}\n              name=\"Zone 3\"\n            />\n          </LineChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Customer Flow */}\n      <div className=\"bg-card rounded-lg border border-border p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Customer Flow In/Out</h3>\n        <ResponsiveContainer width=\"100%\" height={300}>\n          <AreaChart data={customerFlow}>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--border)\" />\n            <XAxis dataKey=\"time\" stroke=\"var(--muted-foreground)\" />\n            <YAxis stroke=\"var(--muted-foreground)\" />\n            <Tooltip\n              contentStyle={{\n                backgroundColor: 'var(--card)',\n                border: '1px solid var(--border)',\n              }}\n            />\n            <Legend />\n            <Area\n              type=\"monotone\"\n              dataKey=\"inflow\"\n              stackId=\"1\"\n              stroke={COLORS[0]}\n              fill={COLORS[0]}\n              fillOpacity={0.4}\n              name=\"Inflow\"\n            />\n            <Area\n              type=\"monotone\"\n              dataKey=\"outflow\"\n              stackId=\"1\"\n              stroke={COLORS[1]}\n              fill={COLORS[1]}\n              fillOpacity={0.4}\n              name=\"Outflow\"\n            />\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Alerts & Recommendations */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Alerts */}\n        <div className=\"bg-card rounded-lg border border-border p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">System Alerts</h3>\n          <div className=\"space-y-3\">\n            <div className=\"flex items-start gap-3 p-4 bg-red-500/5 rounded-lg border border-red-500/20\">\n              <AlertCircle className=\"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"font-semibold text-sm\">High Queue Alert - Zone 3</p>\n                <p className=\"text-sm text-muted-foreground\">Queue length exceeded 15 customers.</p>\n              </div>\n            </div>\n            <div className=\"flex items-start gap-3 p-4 bg-yellow-500/5 rounded-lg border border-yellow-500/20\">\n              <AlertCircle className=\"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"font-semibold text-sm\">Extended Wait Times</p>\n                <p className=\"text-sm text-muted-foreground\">Zone 3 wait time increased by 45%.</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Recommendations */}\n        <div className=\"bg-card rounded-lg border border-border p-6\">\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n            <Zap className=\"w-5 h-5 text-accent\" />\n            AI Recommendations\n          </h3>\n          <ul className=\"space-y-3 text-sm\">\n            <li className=\"flex items-start gap-2 p-3 bg-green-500/5 rounded border border-green-500/20\">\n              <div className=\"w-2 h-2 rounded-full bg-green-500 mt-1.5 flex-shrink-0\" />\n              <span>Call additional staff for Zone 3 to handle peak hours (12-14 PM)</span>\n            </li>\n            <li className=\"flex items-start gap-2 p-3 bg-blue-500/5 rounded border border-blue-500/20\">\n              <div className=\"w-2 h-2 rounded-full bg-blue-500 mt-1.5 flex-shrink-0\" />\n              <span>Redistribute customers from Zone 3 to Zone 1 for balanced load</span>\n            </li>\n            <li className=\"flex items-start gap-2 p-3 bg-purple-500/5 rounded border border-purple-500/20\">\n              <div className=\"w-2 h-2 rounded-full bg-purple-500 mt-1.5 flex-shrink-0\" />\n              <span>Optimize service time for Zone 2 (currently fastest)</span>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4993, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/hooks/use-real-time-data.ts"],"sourcesContent":["'use client'\n\nimport { useEffect, useState, useCallback, useRef } from 'react'\nimport { queueWs } from '@/lib/api-client'\n\nexport function useRealTimeData<T = any>(eventName: string) {\n  const [data, setData] = useState<T | null>(null)\n  const [isConnected, setIsConnected] = useState(false)\n  const handlersRef = useRef<Function[]>([])\n\n  useEffect(() => {\n    queueWs.connect()\n\n    const handleData = (payload: any) => {\n      setData(payload)\n      handlersRef.current.forEach((handler) => handler(payload))\n    }\n\n    queueWs.on(eventName, handleData)\n    setIsConnected(true)\n\n    return () => {\n      queueWs.off(eventName, handleData)\n    }\n  }, [eventName])\n\n  const subscribe = useCallback((handler: (data: T) => void) => {\n    handlersRef.current.push(handler)\n    return () => {\n      handlersRef.current = handlersRef.current.filter((h) => h !== handler)\n    }\n  }, [])\n\n  return { data, isConnected, subscribe }\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAKO,SAAS,gBAAyB,SAAiB;IACxD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gVAAQ,EAAW;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gVAAQ,EAAC;IAC/C,MAAM,cAAc,IAAA,8UAAM,EAAa,EAAE;IAEzC,IAAA,iVAAS,EAAC;QACR,+HAAO,CAAC,OAAO;QAEf,MAAM,aAAa,CAAC;YAClB,QAAQ;YACR,YAAY,OAAO,CAAC,OAAO,CAAC,CAAC,UAAY,QAAQ;QACnD;QAEA,+HAAO,CAAC,EAAE,CAAC,WAAW;QACtB,eAAe;QAEf,OAAO;YACL,+HAAO,CAAC,GAAG,CAAC,WAAW;QACzB;IACF,GAAG;QAAC;KAAU;IAEd,MAAM,YAAY,IAAA,mVAAW,EAAC,CAAC;QAC7B,YAAY,OAAO,CAAC,IAAI,CAAC;QACzB,OAAO;YACL,YAAY,OAAO,GAAG,YAAY,OAAO,CAAC,MAAM,CAAC,CAAC,IAAM,MAAM;QAChE;IACF,GAAG,EAAE;IAEL,OAAO;QAAE;QAAM;QAAa;IAAU;AACxC"}},
    {"offset": {"line": 5036, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/components/realtime/metrics-sync.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRealTimeData } from '@/hooks/use-real-time-data'\n\nexport function MetricsSync() {\n  const { data: metricsData, isConnected } = useRealTimeData('queue_metrics')\n  const [lastUpdate, setLastUpdate] = useState<Date | null>(null)\n\n  useEffect(() => {\n    if (metricsData) {\n      setLastUpdate(new Date())\n    }\n  }, [metricsData])\n\n  if (!isConnected) {\n    return null\n  }\n\n  return (\n    <div className=\"fixed bottom-4 right-4 text-xs text-muted-foreground bg-card border border-border rounded-lg px-3 py-2 max-w-xs\">\n      <div className=\"flex items-center gap-2\">\n        <div className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\" />\n        <span>\n          Live updates\n          {lastUpdate && `  Updated ${Math.round((Date.now() - lastUpdate.getTime()) / 1000)}s ago`}\n        </span>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS;IACd,MAAM,EAAE,MAAM,WAAW,EAAE,WAAW,EAAE,GAAG,IAAA,uJAAe,EAAC;IAC3D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gVAAQ,EAAc;IAE1D,IAAA,iVAAS,EAAC;QACR,IAAI,aAAa;YACf,cAAc,IAAI;QACpB;IACF,GAAG;QAAC;KAAY;IAEhB,IAAI,CAAC,aAAa;QAChB,OAAO;IACT;IAEA,qBACE,6WAAC;QAAI,WAAU;kBACb,cAAA,6WAAC;YAAI,WAAU;;8BACb,6WAAC;oBAAI,WAAU;;;;;;8BACf,6WAAC;;wBAAK;wBAEH,cAAc,CAAC,WAAW,EAAE,KAAK,KAAK,CAAC,CAAC,KAAK,GAAG,KAAK,WAAW,OAAO,EAAE,IAAI,MAAM,KAAK,CAAC;;;;;;;;;;;;;;;;;;AAKpG"}},
    {"offset": {"line": 5098, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/inference/JawekA7laJaw/frontend/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { Sidebar } from '@/components/layout/sidebar'\nimport { Header } from '@/components/layout/header'\nimport { VideoUploadPage } from '@/components/pages/video-upload-page'\nimport { EmployeeManagementPage } from '@/components/pages/employee-management-page'\nimport { AnalyticsDashboard } from '@/components/pages/analytics-dashboard'\nimport { MetricsSync } from '@/components/realtime/metrics-sync'\n\ntype PageType = 'dashboard' | 'video-zone' | 'employees'\n\nexport default function Home() {\n  const [currentPage, setCurrentPage] = useState<PageType>('dashboard')\n  const [darkMode, setDarkMode] = useState(true)\n\n  return (\n    <div className={darkMode ? 'dark' : ''}>\n      <div className=\"min-h-screen bg-background text-foreground\">\n        <Sidebar currentPage={currentPage} onPageChange={setCurrentPage} />\n        \n        <main className=\"ml-0 lg:ml-64 transition-all duration-300\">\n          <Header darkMode={darkMode} onDarkModeToggle={setDarkMode} />\n          \n          <div className=\"p-4 md:p-6 lg:p-8\">\n            {currentPage === 'dashboard' && <AnalyticsDashboard />}\n            {currentPage === 'video-zone' && <VideoUploadPage />}\n            {currentPage === 'employees' && <EmployeeManagementPage />}\n          </div>\n\n          <MetricsSync />\n        </main>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAYe,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gVAAQ,EAAW;IACzD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gVAAQ,EAAC;IAEzC,qBACE,6WAAC;QAAI,WAAW,WAAW,SAAS;kBAClC,cAAA,6WAAC;YAAI,WAAU;;8BACb,6WAAC,2IAAO;oBAAC,aAAa;oBAAa,cAAc;;;;;;8BAEjD,6WAAC;oBAAK,WAAU;;sCACd,6WAAC,yIAAM;4BAAC,UAAU;4BAAU,kBAAkB;;;;;;sCAE9C,6WAAC;4BAAI,WAAU;;gCACZ,gBAAgB,6BAAe,6WAAC,oKAAkB;;;;;gCAClD,gBAAgB,8BAAgB,6WAAC,kKAAe;;;;;gCAChD,gBAAgB,6BAAe,6WAAC,gLAAsB;;;;;;;;;;;sCAGzD,6WAAC,yJAAW;;;;;;;;;;;;;;;;;;;;;;AAKtB"}}]
}